---
title: "[ Leetcode 343 ] Integer Break | è§£é¡Œæ€è·¯åˆ†äº«"
date: "2025-03-23"
author: James
tags: DP,Math
difficulty: Medium
image: /images/program/Leetcode.jpeg
description: ""
readTime: 3
---

çµ¦å®šä¸€å€‹æ­£æ•´æ•¸ nï¼Œå°‡å…¶æ‹†åˆ†ç‚ºè‡³å°‘å…©å€‹æ­£æ•´æ•¸çš„å’Œï¼Œä¸¦ return é€™äº›æ•¸çš„æœ€å¤§ä¹˜ç©ã€‚

é¡Œç›®é€£çµ ğŸ”—ï¼š[https://leetcode.com/problems/integer-break/](https://leetcode.com/problems/integer-break/)

### **è§£é¡Œæ€è·¯ - DP (Non-sequential Linear DP Problems)**

é€™é¡Œçš„ dp ä¸¦ä¸é›£æƒ³ï¼Œæˆ‘å€‘ç”¨æœ€æ­£å¸¸çš„é‚è¼¯ä¾†æ…¢æ…¢æ‹†è§£é€™é¡Œï¼Œå‡å¦‚ä»Šå¤© n=4ï¼Œæˆ‘å€‘åˆ¤æ–· maximum product çš„æµç¨‹å°±æ˜¯ `1*3`ã€`2*2`ã€`3*1`ï¼Œä½†æ˜¯ 3 å¯èƒ½é‚„å¯ä»¥è¢«æ‹†åˆ†ï¼Œå¦‚æœä»Šå¤© n=5ï¼Œæµç¨‹å°±æ˜¯ `1*4`ã€`2*3`ã€`3*2`ã€`4*1`ï¼Œä½†æ˜¯ 4, 3, 2 éƒ½å¯èƒ½å¯ä»¥è¢«æ‹†åˆ†ï¼Œé€™å€‹ã€Œè¢«æ‹†åˆ†ã€æ‰€éœ€è¦èŠ±çš„é‡è¤‡æ™‚é–“å°±å¯ä»¥ç”¨ dp è§£æ±ºã€‚

dp[i] ä»£è¡¨ i çš„ maximum productï¼Œä»¥ n=5 ç‚ºä¾‹ï¼Œ`1*4` è¦åˆ¤æ–· 4 é‚„éœ€ä¸éœ€è¦è¢«æ‹†åˆ†ï¼Œä¸ç”¨ä¸€è·¯æŠŠä»–å¾ 1, 2, 3 å†æ‹†ä¸€æ¬¡ï¼Œå¯ä»¥ç›´æ¥åˆ¤æ–· `1*4` è·Ÿ `1*dp[4]` å“ªä¸€å€‹å¤§å°±å¯ä»¥äº†ï¼Œå†ä¾† loop è·‘é `2*3`ã€`3*2`ã€`4*1` ä¹Ÿæ˜¯ä¸€æ¨£æ¦‚å¿µï¼Œæ‰€ä»¥ dp[i] å°±æ˜¯ä¸€è·¯è¨˜éŒ„ï¼Œå¾Œé¢éœ€è¦ç”¨åˆ°çš„æ™‚å€™å†ç›´æ¥èª¿å‡ºä¾†å°±å¯ä»¥ï¼Œå¯«æˆ dp è½‰æ›å¼å°±æ˜¯

```cpp
for(int i=2; i<=n; i++){
    for(int j=1; j<i; j++){
        dp[i] = max(dp[i], max(j*(i-j), j*dp[i-j]));
    }
}
```

ä¸éæˆ‘å€‘å°±æœƒç™¼ç¾ï¼Œä»¥ n=5 ç‚ºä¾‹ï¼Œ`1*4`ã€`2*3`ã€`3*2`ã€`4*1` å…¶ä¸­å¾ŒåŠæ®µæ ¹æœ¬å°±ä¸ç”¨å†çœ‹ä¸€æ¬¡ï¼Œå› ç‚ºæ„æ€æ˜¯ä¸€æ¨£çš„ï¼Œæ‰€ä»¥å°±å¯ä»¥å†ç¸®çŸ­ loop çš„æ™‚é–“ï¼Œè®Šæˆé€™æ¨£

```cpp
for(int i=2; i<=n; i++){
    for(int j=1; j<=i/2+1; j++){
        dp[i] = max(dp[i], max(j*(i-j), j*dp[i-j]));
    }
}
```

**Time Complexity** - `O( n^2 )`<br>
**Space Complexity** - `O( n )`

#### **Implementation**

```cpp
int integerBreak(int n) {
    vector<int>dp(n+1, 0);
    dp[1] = 1;
    for(int i=2; i<=n; i++){
        for(int j=1; j<=i/2+1; j++){
            dp[i] = max(dp[i], max(j*(i-j), j*dp[i-j]));
        }
    }
    return dp[n];
}
```

### **è§£æ³•äºŒ - æ•¸å­¸è§£**

æ¨™æº–è§£æ‡‰è©²æ˜¯ DP æ²’æœ‰éŒ¯ï¼Œä½†æ˜¯é€™é¡Œå¯ä»¥ç”¨æ•¸å­¸è§’åº¦åˆ‡å…¥ï¼Œæ™‚é–“è¤‡é›œåº¦ç›´æ¥è®Šæˆ O(1)ï¼Œä¹Ÿä¸ç”¨é–‹ dp çš„ç©ºé–“ã€‚é€™é¡Œçš„æ ¸å¿ƒæ€æƒ³å°±æ˜¯æˆ‘å€‘è¦å°‡ `n` æ‹†åˆ†æˆæœ€å¤šçš„ `3`ï¼Œä¸‹é¢æˆ‘ä¾†è­‰æ˜é€™ä»¶äº‹æƒ…ã€‚

#### **ç‚ºä»€éº¼æ‹†åˆ†å¾Œä¸æœƒå‡ºç¾å¤§æ–¼ 4 çš„æ•¸å­—**

å‡è¨­ä»Šå¤©æœ‰ä¸€å€‹ x >= 4ï¼Œä»–åœ¨æ‹†åˆ†æˆ `2 * (x-2)` æ™‚ä¸€å®šæœƒæ¯” x æœ¬èº«é‚„è¦å¤§ï¼Œå› ç‚º `2(x-2)>=4` é€™æ¢ä¸ç­‰å¼åœ¨ x>=4 æ™‚æ˜¯æ†ç­‰å¼ï¼Œæ‰€ä»¥æ‹†åˆ†ä¹‹å¾Œåªæœƒå‡ºç¾å¾ˆå¤šçš„ 2 è·Ÿ 3ã€‚

#### **è¦å¦‚ä½•é¸æ“‡ 2 é‚„æ˜¯ 3**

åœ¨æ‰€æœ‰çš„æ‹†åˆ†ä¸­ï¼Œ`2` çš„æ•¸é‡çµ•å°ä¸æœƒ >= 3ï¼Œå› ç‚º `2*2*2 < 3*3`ï¼Œæ‰€ä»¥é‡åˆ°å¯ä»¥æ‹†åˆ†æˆä¸‰å€‹ 2 çš„æƒ…æ³ï¼Œé‚„ä¸å¦‚ç›´æ¥é¸æ“‡æ‹†æˆå…©å€‹ 3ã€‚

åˆ©ç”¨é€™å…©å€‹æ€è·¯ï¼Œæˆ‘å€‘å¯ä»¥åˆ¶å®šå‡ºä»¥ä¸‹çš„è¦å‰‡ï¼š

```
1. ç•¶ n % 3 == 0ï¼Œé‚£å°±å…¨éƒ¨éƒ½æ‹†æˆ 3
2. ç•¶ n % 3 == 1ï¼Œæ‹†æˆ 2 * 2ï¼Œå¾Œé¢å…¨éƒ¨éƒ½æ˜¯ 3
3. ç•¶ n % 3 == 2ï¼Œæ‹†æˆä¸€å€‹ 2ï¼Œå…¶ä»–å…¨éƒ¨éƒ½æ”¾ 3
```

**Time Complexity** - `O( 1 )`<br>
**Space Complexity** - `O( 1 )`

#### **Implementation**

```cpp
int integerBreak(int n) {

    if(n == 2) return 1;
    if(n == 3) return 2;

    if(n % 3 == 0) return pow(3, n/3);
    else if(n % 3 == 1) return 2*2*pow(3, n/3-1);
    else return 2*pow(3, n/3);

}
```