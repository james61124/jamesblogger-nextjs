---
title: "[ Leetcode 1547 ] Minimum Cost to Cut a Stick | è§£é¡Œæ€è·¯åˆ†äº«"
date: "2025-04-22"
author: James
tags: Array,DP,Sorting
difficulty: Hard
image: /images/program/Leetcode.jpeg
description: ""
readTime: 3
---

æœ‰ä¸€æ ¹é•·åº¦ç‚º n çš„æœ¨æ£ï¼Œä¸¦ä¸”ä½ æœ‰ä¸€å€‹æ•´æ•¸é™£åˆ— cutsï¼Œå…¶ä¸­ cuts[i] è¡¨ç¤ºä½ éœ€è¦åœ¨ä½ç½® cuts[i] ä¸Šåˆ‡é€™æ ¹æœ¨æ£ã€‚æ¯æ¬¡åˆ‡å‰²æœƒå°‡æœ¨æ£åˆ‡æˆå…©æ®µï¼Œåˆ‡å‰²çš„æˆæœ¬ç­‰æ–¼é€™æ¬¡è¢«åˆ‡çš„é‚£æ®µæœ¨æ£çš„é•·åº¦ã€‚ç›®æ¨™æ˜¯æ±ºå®šä¸€å€‹åˆ‡å‰²é †åºï¼Œè®“ç¸½æˆæœ¬æœ€å°ï¼Œä¸¦å›å‚³æˆæœ¬ã€‚

é¡Œç›®é€£çµ ğŸ”—ï¼š[https://leetcode.com/problems/minimum-cost-to-cut-a-stick/](https://leetcode.com/problems/minimum-cost-to-cut-a-stick/)

### **å•é¡Œåˆ†æ**

é€™é¡Œæœ€ç›´è¦ºçš„è§£æ³•æ‡‰è©²æ˜¯ `cuts` çš„æ¯ä¸€ç¨®æ’åˆ—éƒ½åˆ‡åˆ‡çœ‹ï¼Œä½†é€™æ¨£çš„æ™‚é–“è¤‡é›œåº¦æ˜¯ `O(n!)`ï¼Œä¸€å®šæœƒå¤ªé«˜ï¼Œæ‰€ä»¥æˆ‘å€‘å˜—è©¦å¾ DP æƒ³æƒ³çœ‹ï¼Œå› ç‚ºæ˜¯åˆ‡ç·šæ®µçš„é—œä¿‚ï¼Œæ‰€ä»¥å¯ä»¥å‚¾å‘å¾ Interval DP çš„æ–¹å‘æƒ³ã€‚

### **è§£é¡Œæ€è·¯ - DP**

å°æ–¼ Interval DP ä¾†èªªï¼Œæˆ‘å€‘æœƒéœ€è¦ä¸€å€‹ dp[i][j]ï¼Œé€™é¡Œä¸€é–‹å§‹éƒ½æ²’ä»€éº¼æƒ³æ³•ï¼Œæ‰€ä»¥ dp[i][j] å°±å…ˆç…§è‘—é¡Œç›®èµ°ï¼Œæš«æ™‚å®šç¾©æˆã€Œi åˆ° j é€™æ®µçš„ minimum costã€ï¼Œä»¥ç¯„ä¾‹çš„é€™é¡Œä¾†èªªï¼Œ

```cpp
n = 7, cuts = [1,3,4,5]
```

æˆ‘å€‘æœ€å¾Œè¦çš„ç­”æ¡ˆå°±æ˜¯ dp[0][7]ã€‚

å†ä¾†å°±æ˜¯è¦æƒ³è¾¦æ³•æ‰¾åˆ° Transition Functionï¼Œæƒ³åˆ°é€™è£¡æˆ‘å€‘å°±æœƒç™¼ç¾ï¼Œdp[i][j] å…¶å¯¦æ²’æœ‰è¾¦æ³•æ¯ä¸€æ ¼éƒ½æ›´æ–°ï¼Œèˆ‰ä¾‹ä¾†èªªæ ¹æœ¬å°±ä¸æœƒå‡ºç¾ dp[1][2] é€™ç¨®ç·šæ®µï¼Œå› ç‚º cuts æ²’æœ‰è¾¦æ³•åˆ‡åœ¨ 2 çš„ä½ç½®ï¼Œæ‰€ä»¥æˆ‘å€‘è¦æ‰¾åˆ°æ‰€æœ‰å¯è¡Œçš„ç·šæ®µä¸­ï¼Œè©²æ€éº¼æ›´æ–° dp[i][j]ã€‚

å…ˆç°¡åŒ–å•é¡Œï¼Œå¦‚æœçœ‹åˆ° dp[0][1], dp[1][3], dp[3][4] ç­‰ç­‰ï¼Œé€™ç¨®éƒ½æ˜¯æ²’æœ‰è¾¦æ³•åˆ‡çš„ï¼Œæ‰€ä»¥ dp[i][j] å°±æ‡‰è©²æ˜¯ 0ã€‚

å†ä¾†å¦‚æœçœ‹åˆ° dp[0][3], dp[1][4] é€™ç¨®ä¸­é–“å¯ä»¥åˆ‡ä¸€åˆ€çš„ï¼Œå› ç‚ºåªæœ‰ä¸€ç¨®å¯èƒ½æ€§ï¼Œæ‰€ä»¥ dp[i][j] å°±æ˜¯ (j-i)ã€‚

å†å¾€å¤–çœ‹ä¸€é»ï¼Œå¦‚æœçœ‹åˆ° dp[0][4], dp[1][5] é€™ç¨®ä¸­é–“å¯ä»¥åˆ‡å…©åˆ€çš„ï¼Œå› ç‚ºæœ‰å…©ç¨®å¯èƒ½æ€§ï¼Œæ‰€ä»¥é–‹å§‹ä¾†æ€è€ƒ Transition Function æ‡‰è©²æ€éº¼ä¸‹æ‰‹ï¼Œä»¥ dp[0][4] ä¾†èªªï¼Œç¬¬ä¸€åˆ€å¦‚æœåˆ‡åœ¨ 1ï¼Œé‚£ cost å°±æœƒæ˜¯ (4-0) åŠ ä¸Š dp[1][3] çš„ costï¼Œé‚£å¦‚æœç¬¬ä¸€åˆ€åˆ‡åœ¨ 3ï¼Œé‚£ cost å°±æœƒæ˜¯ (4-0) åŠ ä¸Š dp[0][3]ï¼Œç„¶å¾Œå–é€™å…©ç¨® cost çš„æœ€å°å€¼ï¼Œæ‰€ä»¥ Transition Function æˆ‘å€‘å°±å¯ä»¥å¯«å‡ºä¸€å€‹æœ€é™½æ˜¥çš„ç‰ˆæœ¬ï¼Œå°æ–¼æ¯ä¸€å€‹åœ¨ i, j ä¸­é–“çš„ kï¼Œ

```cpp
dp[i][j] = min(dp[i][k] + dp[k][j] + (j - i))
```

ç”¨å‰›å‰›çš„ä¾‹å­ä¾†æƒ³å°±åˆç†äº†ï¼Œå› ç‚º dp[0][1] è·Ÿ dp[1][3] é€™ç¨®ä¸èƒ½åˆ‡çš„éƒ½æ˜¯ 0

```cpp
dp[0][4] = dp[0][1] + dp[1][3] + (4 - 0) = 0 + 2 + 4 = 6 // k = 1
         = dp[0][3] + dp[3][4] + (4 - 0) = 3 + 0 + 4 = 7 // k = 3
dp[0][4] = min(6, 7) = 6
```

æœ‰äº† Transition Functionï¼Œæˆ‘å€‘è¦çš„ç­”æ¡ˆæ˜¯ dp[0][n]ï¼Œå†ä¾†è¦æƒ³çš„æ˜¯æˆ‘å€‘å¦‚ä½•æ›´æ–°é€™å€‹ tableï¼Œæ‰€ä»¥è¦æ‰¾åˆ° Transition Function çš„ dependencyï¼Œå°æ–¼æ‰€æœ‰ã€Œå¯ä»¥åˆ‡ä¸€åˆ€ã€çš„æƒ…æ³ï¼Œä»–çš„å€¼æœƒå¾ã€Œä¸èƒ½åˆ‡ã€çš„ä¾†çš„ï¼Œå°æ–¼æ‰€æœ‰ã€Œå¯ä»¥åˆ‡å…©åˆ€ã€çš„æƒ…æ³ï¼Œä»–çš„å€¼æœƒå¾ã€Œå¯ä»¥åˆ‡ä¸€åˆ€ã€çš„æƒ…æ³ä¾†çš„ï¼Œæ‰€ä»¥æˆ‘å€‘æ›´æ–°çš„é †åºæ‡‰è©²æ˜¯ï¼š

```
[ ä¸èƒ½åˆ‡ ] -> [ å¯ä»¥åˆ‡ä¸€åˆ€ ] -> [ å¯ä»¥åˆ‡å…©åˆ€ ] -> ...
```

èˆ‰ä¸Šé¢çš„ä¾‹å­ä¾†èªªï¼Œç”¨ `cuts = [1,3,4,5]` ä¾†çœ‹ï¼Œä¸èƒ½åˆ‡çš„æœƒå…ˆæ›´æ–° dp[0][1], dp[1][3], dp[3][4]...ï¼Œå†ä¾†æ›´æ–°å¯ä»¥åˆ‡ä¸€åˆ€çš„ dp[0][3], dp[1][4]... ä»¥æ­¤é¡æ¨ã€‚

ä½†å› ç‚ºåœ¨æ›´æ–° dp[i][j] å¯¦éš›ä¸Šæ˜¯ based on `cuts` ç‹€æ³ï¼Œä¸æœƒæ¯ä¸€å€‹æ ¼å­éƒ½æ›´æ–°åˆ°ï¼Œæ‰€ä»¥ dp[i][j] åªéœ€è¦å®£å‘Š `cuts` çš„å¤§å°å°±å¥½ï¼Œåˆ©ç”¨ `cuts` çš„ index ç•¶ä½œæ˜¯ dp[i][j] çš„ indexï¼Œç„¶å¾ŒæŠŠ cuts çš„é ­å°¾ä¹ŸåŠ é€²å»ï¼Œå°±åƒé€™æ¨£ï¼š

```python
cuts = [0, 1, 3, 4, 5, 7]
dp   = [ ,  ,  ,  ,  ,  ] # size 6
```

é€™æ¨£æˆ‘å€‘çš„ Transition Function å°±å¯ä»¥ç°¡åŒ–æˆé€™æ¨£ï¼š

```cpp
for(int k = i + 1; k < j; k++){
    dp[i][j] = min(dp[i][j], dp[i][k] + dp[k][j] + (cuts[j] - cuts[i]));
}
```

è§€å¿µéƒ½é€šçš„å·®ä¸å¤šä¹‹å¾Œï¼Œå°±å¯ä»¥ç›´æ¥çœ‹å¯¦ä½œäº†ã€‚

**Time Complexity** - `O(c^3)`ï¼Œå…¶ä¸­ c æ˜¯ cuts çš„ size<br>
**Space Complexity** - `O(c^2)`

#### **Implementation**

```cpp
int minCost(int n, vector<int>& cuts) {
    cuts.push_back(0);
    cuts.push_back(n);
    sort(cuts.begin(), cuts.end());

    vector<vector<int>>dp(cuts.size(), vector<int>(cuts.size(), 0));
    for(int count = 2; count < cuts.size(); count++){
        for(int i = 0; i + count < cuts.size(); i++){
            int j = i + count;
            dp[i][j] = INT_MAX;
            for(int k = i + 1; k < j; k++){
                dp[i][j] = min(dp[i][j], dp[i][k] + dp[k][j] + (cuts[j] - cuts[i]));
            }
        }
    }
    return dp[0][cuts.size()-1];
}
```
